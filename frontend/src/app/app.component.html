<div class="container-fluid " [ngClass]="{'spinner-overlay' : loader}">
  <div class="jumbotron jumbotron-fluid">
    <div class="container">
      <h1 class="display-6">Azure Blob storage File Upload</h1>
      <p class="lead">Azure blob storage file, upload using Angular (frontend) and dotnet (Backend) Also, example of
        generation of <a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-sas-overview">SAS</a>
        after file upload .</p>
    </div>
  </div>


  <div class="row">
    <div class="col-lg-2 col-md-2"></div>
    <div class="col-lg-7 col-md-8">
  <div class="row mt-5">
    <div class="col">
      <div class="custom-file">
        <input type="file" accept="image/*" class="custom-file-input" id="customFile" (change)="handleFileInput($any($event.target).files)" [disabled]="working">
        <label class="custom-file-label" for="customFile">{{ uploadFileLabel }}</label>
      </div>
    </div>
    <div class="col-auto pl-sm-0">
      <button type="button" class="btn btn-outline-primary" ngbTooltip="Upload" (click)="upload()" [disabled]="working">Upload</button>
    </div>
  </div>
  <div class="row mt-3" *ngIf="working">
    <div class="col">
      <div class="progress">
        <div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': uploadProgress + '%' }" [attr.aria-valuenow]="uploadProgress" aria-valuemin="0" aria-valuemax="100">{{ uploadProgress }}%</div>
      </div>
    </div>
  </div>
  <div class="row mt-3" *ngIf="uploadUrl?.length">
    <div class="col">
      <img [src]="uploadUrl" alt="preview" class="rounded img-fluid">
    </div>
  </div>
</div>
<div class="col-lg-2 col-md-2"></div>
</div>
</div>
<div class="row">
  <div class="col-lg-2 col-md-2"></div>
  <div class="col-lg-7 col-md-8">
  <table class="table">
    <thead>
    <tr>
      <th>Image</th>
      <th>Name</th>
      <th>Created On</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let file of files">
      <td><img [src]="file.uri " width="30px" height="30px"></td>
      <td>{{file.name}}</td>
      <td>{{file.createdOn | date:'medium'}}</td>
    </tr>
  </tbody>
  </table>
  </div>
  <div class="col-lg-2 col-md-2"></div>
</div>
<div id="loader" *ngIf="loader">

</div>
